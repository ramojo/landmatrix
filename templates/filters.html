{% load i18n custom_tags static crispy_forms_tags %}
{% load humanize %}

<div id="filters">
    <div class="row">
        <form>
            {% csrf_token %}
            <div class="col-md-10" id="filterlist">
                <label>{% trans "No active filters" %}:</label>
            </div>
        </form>
        <div class="col-md-2 text-right">
            <a class="toggle-filters" role="button" data-toggle="collapse" href="#manage-filters" aria-expanded="true"
               data-toggle-text="{% trans "Hide filters" %}"
               aria-controls="manage-filters">
                {% trans "Manage filters" %}
            </a>
            <a href="#" class="toggle-tooltip noul"
               title="You can create custom filters here. Filters are kept when changing entry point.">
                <i class="lm lm-question-circle"> </i></a>
        </div>
    </div>


    <div id="manage-filters" class="clearfix collapse">
        <div class="row">
            <div class="col-md-3 filterbox no-pad">
                <ul class="variables">
                    <li>
                        <h4>Preset Category Label</h4>
                        <ul>
                            <li class="filter_item">
                                <a href="javascript:loadPreset('PresetName')"
                                   title="$Detailed Preset Filtering explanation">
                                    <label>{% trans "PresetLabel" %}</label>
                                </a>
                            </li>
                            <li class="filter_item">
                                <a href="javascript:loadPreset('PresetName')"
                                   title="$Detailed Preset Filtering explanation">
                                    <label>{% trans "PresetLabel" %}</label>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <h4>Preset Category Label</h4>
                        <ul>
                            <li class="filter_item">
                                <a href="javascript:loadPreset('PresetName')"
                                   title="$Detailed Preset Filtering explanation">
                                    <label>{% trans "PresetLabel" %}</label>
                                </a>
                            </li>
                        </ul>
                    </li>

                </ul>
            </div>
            <div class="col-md-3 filterbox no-pad">
                <ul class="variables">
                    {% for group in variables %}
                        <li>
                            <h4>{{ group.label }}</h4>
                            <ul>
                                {% for variable in group.items %}
                                    <li id="filter_{{ variable.name }}" class="filter_item"><a
                                            href="javascript:createFilter('{{ variable.name }}')"
                                            id="filter_{{ variable.name }}_link">{% trans variable.label %}</a>
                                    </li>
                                {% endfor %}
                            </ul>
                        </li>
                    {% endfor %}
                </ul>

            </div>
            <div class="col-md-6 filterbox">
                <div id="empty" class="rules">
                    <form class="form">
                        {#% csrf_token %#}

                        <!--
                        <input type="hidden" name="filtered" value="true"/>
                        <input type="hidden" name="limit" value="{{ limit }}"/>
                        <input type="hidden" name="order_by" value="{{ data.order_by }}"/>
                        -->

                        <input id="filter_variable" type="hidden" name="variable" value=""/>

                        <div class="input-group">
                            <select id="filter_operator" name="operator">
                                <option value="lt"><</option>
                                <option value="gt">></option>
                                <option value="gte">>=</option>
                                <option value="lte">=<</option>
                                <option value="is">is</option>
                                <option value="is_empty">is empty</option>
                                <option value="not_in">not in</option>
                                <option value="in">in</option>
                                <option value="contains">contains</option>
                            </select>

                            <div id="filter_value" class="right">
                                <input type="text"/>
                            </div>
                            <div></div>
                        </div>
                        <button type="submit" class="btn btn-primary" name="add"
                                value="add">{% trans "Add filter" %}</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

{% block js %}
    <script src="{% static "js/filters.js" %}" type="text/javascript"></script>
{% endblock %}